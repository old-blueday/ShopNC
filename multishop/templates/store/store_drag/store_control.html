<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=<tpl> $NCharset </tpl>">
<title><tpl> $shop_info.shop_name </tpl>-<tpl> $langStoreStyleDiy </tpl></title>
<meta http-equiv="X-UA-Compatible" content="IE=7" />
<script>
var assetDir = '<tpl> $template_dir </tpl>';
var charSet = '<tpl> $NCharset </tpl>';
var spaceCommon = [];
spaceCommon['add'] = '<tpl> $langCadd </tpl>';
spaceCommon['newWindowShowOriginal'] = '<tpl> $langStoreStyleNewWindowShowOriginal </tpl>';
spaceCommon['webSite'] = '<tpl> $langStoreStyleWebSite </tpl>';
spaceCommon['copyToParse'] = '<tpl> $langStoreStyleCopyToParse </tpl>';
spaceCommon['pleaseCopyTo'] = '<tpl> $langStoreStylePleaseCopyTo </tpl>';
spaceCommon['confirm'] = '<tpl> $langStoreStyleConfirm </tpl>';
spaceCommon['pleaseSel'] = '<tpl> $langStoreStylePleaseSel </tpl>';
spaceCommon['picUrlWrong'] = '<tpl> $langStoreStylePicUrlWrong </tpl>';
spaceCommon['del'] = '<tpl> $langCdele </tpl>';
spaceCommon['create'] = '<tpl> $langStoreStyleCreate </tpl>';
spaceCommon['name'] = '<tpl> $langStoreStyleSortName </tpl>';
var spaceTips = [];
spaceTips['loading'] = '<tpl> $langStoreStyleDoing </tpl>';
spaceTips['noSelectBox'] = '<tpl> $langStoreStyleNoSelectBox </tpl>';
spaceTips['shareCheck'] = '<tpl> $langStoreStyleShareCheck </tpl>';
spaceTips['deleteCheck'] = '<tpl> $langStoreStyleDeleteCheck </tpl>';
spaceTips['diyError'] = '<tpl> $langStoreStyleDiyError </tpl>';
var spaceLangs = [];
spaceLangs['menuPic'] = '<tpl> $langStoreStyleMenuPic </tpl>';
spaceLangs['footerPic'] = '<tpl> $langStoreStyleFootPic </tpl>';
spaceLangs['bannerPic'] = '<tpl> $langStoreStyleHeadPic </tpl>';
spaceLangs['bodyBackgroundPic'] = '<tpl> $langStoreStyleBigBackgroundPic </tpl>';
spaceLangs['musicList'] = '<tpl> $langStoreStyleMusicList </tpl>';
spaceLangs['clear'] = '<tpl> $langStoreStyleClear </tpl>';
spaceLangs['tplNumMaxLimit'] = "<tpl> $langStoreStyleTplNumMaxLimit </tpl>";
spaceLangs['selectColor'] = '<tpl> $langStoreStyleSelectColor </tpl>';
spaceLangs['inputThemeName'] = '<tpl> $langStoreStyleInputThemeName </tpl>';
spaceLangs['selectThemeOfColor'] = '<tpl> $langStoreStyleSelectThemeOfColor </tpl>';
spaceLangs['inputThemeOfClass'] = '<tpl> $langStoreStyleInputThemeOfClass </tpl>';
spaceLangs['noSelectTheme'] = '<tpl> $langStoreStyleNoSelectTheme </tpl>';
spaceLangs['contentBackground'] = '<tpl> $langStoreStyleContentBackground </tpl>';
spaceLangs['blockTitleBackground'] = '<tpl> $langStoreStyleBlockTitleBackground </tpl>';
spaceLangs['blockError'] = '<tpl> $langStoreStyleBlockError </tpl>';
spaceLangs['setAllBlockCheck'] = '<tpl> $langStoreStyleSetAllBlockCheck </tpl>';
spaceLangs['styleBack'] = '<tpl> $langStoreStyleStyleBack </tpl>';
</script>
<script type="text/javascript" src="<tpl> $site_url </tpl>/js/jquery1.4/jquery.js"></script>
<script type="text/javascript">
var jquery=$;
</script>
<script language="javascript" type="text/javascript" src="<tpl> $template_dir </tpl>/js/script_common.js"></script>
<script language="javascript" type="text/javascript" src="<tpl> $template_dir </tpl>/js/script_menu.js"></script>
<script language="javascript" type="text/javascript" src="<tpl> $template_dir </tpl>/js/script_ajax.js"></script>
<script language="javascript" type="text/javascript" src="<tpl> $template_dir </tpl>/js/script_manage.js"></script>
<script language="javascript" type="text/javascript" src="<tpl> $template_dir </tpl>/js/script_face.js"></script>
<script language="javascript" type="text/javascript" src="<tpl> $template_dir </tpl>/js/spacePackerCommon.js"></script>
<link type="text/css" rel="stylesheet" href="<tpl> $template_dir </tpl>/css/comm.css">
<link type="text/css" rel="stylesheet" href="<tpl> $template_dir </tpl>/css/template.css">
<style type="text/css" id="load_style"><tpl> $block_css </tpl></style>
</head>
<body>

<style type="text/css">

#wrap{margin:65px auto 0 !important;}
#wraptwo{margin:65px auto 0 !important;}
.banner .title{border:2px dashed red;cursor:move;}

.toolbar{background:url(<tpl> $template_dir </tpl>/default/images/bg_toolbar.jpg) repeat-x;height:64px;}

#diy_content {color:#fff; font-size:14px; padding:2px; text-align:center; width:100%; height:120px; background-color:#342}
#diy_header {margin:0 auto; height:30px; background-color:#456}
#diy_main {margin:0 auto; height:90px;background-color:#789;}
#selectblock {margin:0 auto;}


.transfer {border:1px dashed red;margin:0px auto;cursor:move;background: url(<tpl> $template_dir </tpl>/default/images/bg_transfer.png) !important;background:none;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src='<tpl> $template_dir </tpl>/default/images/bg_transfer.png');}

.transfer .transferbody{overflow:hidden;}
.transfer .transferbody a{display:block; width:21px; height:21px; overflow:hidden; float:right;margin-right:6px; text-indent: -99999px;}
.transfer .transferbody a.editBlock{background:url(<tpl> $template_dir </tpl>/default/images/floatbtn_editblock.gif) no-repeat 0 0; }
.transfer .transferbody a.editBlock:hover{background:url(<tpl> $template_dir </tpl>/default/images/floatbtn_editblock.gif) no-repeat 0 -21px; }
.transfer .transferbody a.delblock{background:url(<tpl> $template_dir </tpl>/default/images/floatbtn_delblock.gif) no-repeat 0 0; }
.transfer .transferbody a.delblock:hover{background:url(<tpl> $template_dir </tpl>/default/images/floatbtn_delblock.gif) no-repeat 0 -21px; }

.transfer h1{background:#ECF9FF;height:18px;margin:1px;padding:3px;text-align:right;}
.transfer h1 a{background-color:#F00;padding:4px;}


#clrMain {background-color:#FFF;height:255px;width:254px;border:1px solid #000;position:absolute;left:80px;top:100px;}
#clrMain input {width:70px;left:80px;top:225px;padding:4px;position:absolute;}
#clrColor {background-repeat:no-repeat;height:200px;left:3px;top:3px;width:200px;padding:7px;position:absolute;}
#clrBGColor {background-repeat:no-repeat;height:200px;width:200px;}
#clrHue {height:200px;width:24px;left:220px;top:7px;padding:4px 0px 4px 0px;position:absolute;}
#clrSv {width:200px;height:200px;}
#clrCrosshairs {position:absolute;}
#clrH {height:200px;width:24px;}
#clrRangeArrows {height:9px;width:40px;position:absolute;}
#clrPreview {border:1px solid #000;background-color:#999;height:22px;width:60px;position:absolute;top:225px;left:9px;}

#mytest .blocktitle{background:url(images/bg_blocktitle.jpg) repeat-x;height:26px;line-height:26px;border-bottom:1px solid red;}
#mytest .blocktitle h2{color:#1D1B1C;font-size:14px;font-weight:bold;}
#mytest .blocktitle em a{color:#006697;}
#mytest .blockcontent{color:#fff;background: #FFF url(images/1.jpg) no-repeat left left;}
#mytest .blockcontent a{color:#006697;}
</style>
<script language="javascript" type="text/javascript" src="<tpl> $template_dir </tpl>/js/spacePackerDiyFunc.js"></script>
<script language="javascript" reload="1">
var tempStyle = '<tpl> $shop_style </tpl>';

if('' != tempStyle) {
diyStyle = phpserialize.unserialize(tempStyle);
}

var defaultFrame = '<tpl> $style_list.frame </tpl>';;
defaultFrame = defaultFrame.toUpperCase();

var styleNum = '';

var blockList = [];
<tpl> foreach from=$block_list key=key item=block </tpl>
blockList['<tpl> $key </tpl>'] = '<tpl> $block.module_new_name </tpl>';
<tpl> /foreach </tpl>

var tmpStyle = [];
</script>

<div id="setMenu" class="floatwin" style="display: none;">
	<div class="floattitle" id="setMenuHeader">
	<div class="rcon"><a href="javascript:;" class="btnclose" title="<tpl> $langStoreStyleClose </tpl>" onclick="javascript:closeDiy('setMenu');"><tpl> $langStoreStyleClose </tpl></a></div>
	<h2><tpl> $langStoreStyleSetNavigation </tpl></h2>
	</div>
	<div class="floatcontent">
		<div class="floatmenu"></div>
		<div class="floatmain">
			<div class="floatbody">
				<ul class="formlist">
					<li>
						<label for=""><tpl> $langStoreStyleSetNavigationBgImg </tpl>:</label>
						<a href="javascript:;" class="fbtn_select" id="setMenuBgImg"><tpl> $langStoreStyleSelPic </tpl></a>
						<a href="javascript:;" class="fbtn_cancel" id="setMenuBgTransparent"><tpl> $langStoreStyleNoSelPic </tpl></a>
						<input value="" id="menuOldBgImg" type="hidden">
					</li>
					<li>
						<label for=""><tpl> $langStoreStyleContentBgRepeat </tpl>:</label>
						<select id="menuBgRepeat">
						<option selected="selected" value="no-repeat"><tpl> $langStoreStyleRepeatNo </tpl></option>
						<option value="repeat"><tpl> $langStoreStyleRepeat </tpl></option>
						<option value="repeat-x"><tpl> $langStoreStyleRepeatToX </tpl></option>
						<option value="repeat-y"><tpl> $langStoreStyleRepeatToY </tpl></option>
						</select>
					</li>
					<li>
						<label for=""><tpl> $langStoreStyleContentBgPlace </tpl>:</label>
						<div class="wc-o az">
							<table id="setMenuPlace" class="wc"><tbody>
							<tr class="wcr0"><td class="wcc0 iw0"> </td><td class="wcc1"></td><td class="wcc0 iw0 selected"> </td><td class="wcc1"></td><td class="wcc0 iw0"> </td></tr>
							<tr class="wcr1"><td colspan="5"></td></tr>
							<tr class="wcr0"><td class="wcc0 iw0"> </td><td class="wcc1"></td><td class="wcc0 iw0"> </td><td class="wcc1"></td><td class="wcc0 iw0"> </td></tr>
							<tr class="wcr1"><td colspan="5"></td></tr>
							<tr class="wcr0"><td class="wcc0 iw0"> </td><td class="wcc1"></td><td class="wcc0 iw0"> </td><td class="wcc1"></td><td class="wcc0 iw0"> </td></tr>
							</tbody></table>
						</div>
					</li>
					<li>
						<label for=""><tpl> $langStoreStyleContentBgColor </tpl>:</label>
						<input id="menuBgColor" class="txt" type="text">
						<span class="control_color" id="menuBgColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
					<li>
						<label for=""><tpl> $langStoreStyleDistanceLeft </tpl>:</label>
						<div class="hxdiv">
							<div class="hxmoverange" id="hxMoveRangeNavLeft">
								<div class="hxmovebg"></div>
								<div class="hxmove" id="sliderHNavLeft"></div>
							</div>
						</div>
						<input class="txtnum" id="navLeft" type="text">px
					</li>
				</ul>
				<ul class="formlist">
					<li>
						<label for=""><tpl> $langStoreStyleContentSize </tpl>:</label>
						<select id="menuSize" name="text">
						<option selected="selected" value="12">12px</option>
						<option value="14">14px</option>
						<option value="16">16px</option>
						</select>
						<input value="" name="menu_weight" id="menuWeight" type="checkbox"><tpl> $langStoreStyleContentBold </tpl>
					</li>
					<li>
						<label for=""><tpl> $langStoreStyleContentHrefColor </tpl>:</label>
						<input id="menuHrefColor" class="txt" type="text">
						<span class="control_color" id="menuHrefColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
					<li>
						<label for=""><tpl> $langStoreStyleContentHoverColor </tpl>:</label>
						<input id="menuHoverColor" class="txt" type="text">
						<span class="control_color" id="menuHoverColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
					<li>
						<label for=""><tpl> $langStoreStyleNowUrl </tpl>:</label>
						<input id="menuAActiveColor" class="txt" type="text">
						<span class="control_color" id="menuAActiveColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
					<li>
						<label for=""><tpl> $langStoreStyleNavigationBorder </tpl>:</label>
						<select name="text" id="menuBorderStyle">
						<option selected="selected" value=""></option>
						<option value="solid"><tpl> $langStoreStyleSolid </tpl></option>
						<option value="dashed"><tpl> $langStoreStyleDashed </tpl></option>
						<option value="dotted"><tpl> $langStoreStyleDotted </tpl></option>
						</select>
						<select name="size" id="menuBorderWidth">
						<option selected="selected" value="0"><tpl> $langStoreStyleNoBorder </tpl></option>
						<option value="1">1px</option>
						<option value="2">2px</option>
						<option value="3">3px</option>
						</select>
					</li>
					<li>
						<label for=""><tpl> $langStoreStyleContentBorderColor </tpl>:</label>
						<input id="menuBorderColor" class="txt" type="text">
						<span class="control_color" id="menuBorderColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
					<li>
						<label for=""><tpl> $langStoreStyleNavigationHeight </tpl>:</label>
						<div class="hxdiv">
							<div class="hxmoverange" id="hxMoveRangeNav">
								<div class="hxmovebg"></div>
								<div class="hxmove" id="sliderHNav"></div>
							</div>
						</div>
						<input class="txtnum" id="navHeight" type="text">px
					</li>
					<li>
						<label for=""><tpl> $langStoreStyleUrlLocation </tpl>:</label>
						<div class="hxdiv">
							<div class="hxmoverange" id="hxMoveRangeA">
								<div class="hxmovebg"></div>
								<div class="hxmove" id="sliderHA"></div>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
		<div class="floatfun">
			<a href="javascript:;" class="cancel" onclick="javascript:closeDiy('setMenu');"><tpl> $langStoreStyleCancel </tpl></a>
			<a href="javascript:;" class="oksubmit"><tpl> $langStoreStyleDetermine </tpl></a>
		</div>
	</div>
</div>

<div id="setHeadTitle" class="floatwin" style="display: none;">
	<div class="floattitle" id="setHeadTitleHeader">
		<div class="rcon">
			<a href="javascript:;" class="btnclose" title="<tpl> $langStoreStyleClose </tpl>" onclick="javascript:closeDiy('setHeadTitle');"><tpl> $langStoreStyleClose </tpl></a>
			
		</div>
		<h2><tpl> $langStoreStyleSetHeadTitle </tpl></h2>
	</div>
	<div class="floatcontent">
		<div class="floatmenu"></div>
		<div class="floatmain">
			<div class="floatbody">
			<ul class="formlist">
				<li>
					<label for=""><tpl> $langStoreStyleTitleColor </tpl>:</label>
					<input id="titleColor" class="txt" type="text">
					<span class="control_color" id="titleColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
				</li>
			</ul>
			</div>
		</div>
		<div class="floatfun">
			<a href="javascript:;" class="cancel" onclick="javascript:closeDiy('setHeadTitle');"><tpl> $langStoreStyleCancel </tpl></a>
			<a href="javascript:;" class="oksubmit"><tpl> $langStoreStyleDetermine </tpl></a>
		</div>
	</div>
</div>

<div class="floatwin" id="selectBgDiv" style="z-index: 3000; display: none;">
	<div class="floattitle" id="selectBgHeader">
		<div class="rcon"><a href="javascript:;" class="btnclose" title="<tpl> $langStoreStyleClose </tpl>" onclick="javascript:closeDiyBackground('selectBgDiv');"><tpl> $langStoreStyleClose </tpl></a></div>
		<h2 id="selectBgTitle"><tpl> $langStoreStyleSelBgTitle </tpl></h2>
	</div>
	<div class="floatcontent">
		<div class="floatmenu">
			<ul>
				<li id="sysPicLi" class="on"><a href="javascript:;"><tpl> $langStoreStyleSystemRecommend </tpl></a></li>
				
				<li id="albumPicLi" style="display:none"><a href="javascript:;"><tpl> $langStoreStylePicInAlbum </tpl></a></li>
				<li id="uploadPicLi" style="display:none"><a href="javascript:;"><tpl> $langStoreStyleUpload </tpl></a></li>
				
				<li id="urlPicLi"><a href="javascript:;"><tpl> $langStoreStyleWebPic </tpl></a></li>
			</ul>
		</div>
	
		<div class="floatmain" id="sysPic">
			<div class="floatnav" id="sysPicNav">
				<ul class="navcolor">
					<li onclick="changeSysBackground(this, '&amp;color=1');"><a href="javascript:;"><tpl> $langStoreStyleBlack </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;color=2');"><a href="javascript:;"><tpl> $langStoreStyleWrite </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;color=3');"><a href="javascript:;"><tpl> $langStoreStylePink </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;color=4');"><a href="javascript:;"><tpl> $langStoreStyleYellow </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;color=5');"><a href="javascript:;"><tpl> $langStoreStyleGreen </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;color=6');"><a href="javascript:;"><tpl> $langStoreStyleBlue </tpl></a></li>
				</ul>
				<ul>
					<li class="on" onclick="changeSysBackground(this, '');"><a href="javascript:;"><tpl> $langStoreStyleAll </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;category=1');"><a href="javascript:;"><tpl> $langStoreStyleSimple </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;category=2');"><a href="javascript:;"><tpl> $langStoreStyleLovely </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;category=3');"><a href="javascript:;"><tpl> $langStoreStyleCool </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;category=4');"><a href="javascript:;"><tpl> $langStoreStyleRomantic </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;category=5');"><a href="javascript:;"><tpl> $langStoreStyleOther </tpl></a></li>
				</ul>
			</div>
			<div class="floatbody imgheight" id="sysPicList">
				<img src="<tpl> $template_dir </tpl>/images/loading.gif" class="imgloading">
				<div class="floatpage"></div>
			</div>
		</div>
	
		<div class="floatmain" id="albumPic" style="display: none;">
			<div class="floatnav">
				<label><tpl> $langStoreStyleSelAlbumPic </tpl></label>
				<select name="photo" id="albumLists">
				<option selected="selected" value=""><tpl> $langStoreStyleSelAlbum </tpl></option>
				<option value="-1"><tpl> $langStoreStyleDefaultAlbum </tpl></option>
				</select>
			</div>
			<div class="floatbody imgheight" id="albumPicList">
				<img src="" class="imgloading"><p align="center"><tpl> $langStoreStylePleaseSelAlbum </tpl></p>
			</div>
		</div>
	
		<div class="floatmain" id="uploadPic" style="display: none;">
			<form method="post" id="uploadPicForm" action="cp.php?ac=uploadbg" class="global_wide" enctype="multipart/form-data">
				<div class="floatbody">
					<ul class="formupload">
						<li>
							<label for=""><tpl> $langStoreStyleSelUploadPic </tpl>:</label>
							<input name="attach" id="attach" class="uploadtxt" type="file">
							<input name="uploadsubmit" id="btnUpload" value="<tpl> $langStoreStyleUpload </tpl>" class="btnupload" onclick="javascript:ajaxpost('uploadPicForm', 'uploadResult', 'uploadLocalImg');" type="submit">
							<input name="albumsubmit" id="albumsubmit" value="true" type="hidden">
							<input name="pic_title" id="pic_title" value="" type="hidden">
							<p><tpl> $langStoreStyleUploadRemark </tpl></p>
						</li>
						<li>
							<label for=""><tpl> $langStoreStyleUploadSaveTo </tpl>:</label>
							<select name="albumid">
							<option selected="selected" value="0"><tpl> $langStoreStyleDefaultAlbum </tpl></option>
							</select>
						</li>
					</ul>
					<dl class="loadpic" id="uploadResult"></dl>
				</div>
			</form>
		</div>
	
		<div class="floatmain" id="urlPic" style="display: none;">
			<div class="floatbody">
				<ul class="formupload uploadurl">
					<li><label for=""><tpl> $langStoreStyleInputPicUrl </tpl>:</label></li>
					<li>
					<input name="newurlpic" id="urlPicPath" class="txt" type="text">
					<input class="btnupload" name="" id="btnUrlPicPath" value="<tpl> $langStoreStyleUse </tpl>" type="button">
					</li>
					</ul>
				<div class="uploadurlmes"></div>
			</div>
		</div>
		<div class="floatsub" id="selectBgSub" style="display: none;">
			<div class="floatbody">
				<ul class="formlist">
					<li>
					<label for=""><tpl> $langStoreStyleContentBgRepeat </tpl>:</label>
					<select id="otherBgRepeat">
					<option selected="selected" value="repeat"><tpl> $langStoreStyleRepeat </tpl></option>
					<option value="repeat-x"><tpl> $langStoreStyleRepeatToX </tpl></option>
					<option value="repeat-y"><tpl> $langStoreStyleRepeatToY </tpl></option>
					<option value="no-repeat"><tpl> $langStoreStyleRepeatNo </tpl></option>
					</select>
					</li>
					<li id="setBodyBgState" style="display: none;">
					<label for=""><tpl> $langStoreStyleBgState </tpl>:</label>
					<select id="bodyBgState">
					<option selected="selected" value="scroll"><tpl> $langStoreStyleScroll </tpl></option>
					<option value="fixed"><tpl> $langStoreStyleFixed </tpl></option>
					</select>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentBgColor </tpl>:</label>
					<input class="txt" id="otherOldBgImg" type="hidden">
					<input class="txt" id="otherBgColor" type="text">
					<span class="control_color" id="otherBgColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
				</ul>
				<ul class="formlist" id="setBannerHeight" style="display: none;">
					<li>
						<label for=""><tpl> $langStoreStyleHeadHeight </tpl>:</label>
						<div class="hxdiv">
							<div class="hxmoverange" id="hxMoveRangeBanner">
								<div class="hxmovebg"></div>
								<div class="hxmove" id="sliderHBanner"></div>
							</div>
						</div>
						<input class="txtnum" id="bannerHeight" type="text">px
					</li>
				</ul>
				<ul class="formlist" id="setFooter" style="display: none;">
					<li>
						<label for=""><tpl> $langStoreStyleContentColor </tpl>:</label>
						<input class="txt" name="footerFontColor" id="footerFontColor" type="text">
						<span class="control_color" id="footerFontColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
					<li>
						<label for=""><tpl> $langStoreStyleFooterHeight </tpl>:</label>
						<div class="hxdiv">
							<div class="hxmoverange" id="hxMoveRangeFooter">
								<div class="hxmovebg"></div>
								<div class="hxmove" id="sliderHFooter"></div>
							</div>
						</div>
						<input class="txtnum" id="footerHeight" type="text">px
					</li>
				</ul>
				<ul class="formlist" id="setBgPlace">
					<li>
						<label for=""><tpl> $langStoreStyleContentBgPlace </tpl>:</label>
						<div class="wc-o az">
							<table id="selectBgDivPlace" class="wc"><tbody>
							<tr class="wcr0"><td class="wcc0 iw0"> </td><td class="wcc1"></td><td class="wcc0 iw0 selected"> </td><td class="wcc1"></td><td class="wcc0 iw0"> </td></tr>
							<tr class="wcr1"><td colspan="5"></td></tr>
							<tr class="wcr0"><td class="wcc0 iw0"> </td><td class="wcc1"></td><td class="wcc0 iw0"> </td><td class="wcc1"></td><td class="wcc0 iw0"> </td></tr>
							<tr class="wcr1"><td colspan="5"></td></tr>
							<tr class="wcr0"><td class="wcc0 iw0"> </td><td class="wcc1"></td><td class="wcc0 iw0"> </td><td class="wcc1"></td><td class="wcc0 iw0"> </td></tr>
							</tbody></table>
						</div>
					</li>
				</ul>
			</div>
		</div>
		<div class="floatfun">
			<a id="cancelBg" href="javascript:void(0);" class="cancel" style="display: none;" onclick="javascript:closeDiyBackground('selectBgDiv');"><tpl> $langStoreStyleCancel </tpl></a>
			<a href="javascript:;" class="oksubmit"><tpl> $langStoreStyleDetermine </tpl></a>
		</div>
	</div>
</div>

<div id="setCursor" class="floatwin" style="z-index: 3000; display: none;">
	<div class="floattitle" id="cursorHeader">
		<div class="rcon"><a href="javascript:;" class="btnclose" title="<tpl> $langStoreStyleClose </tpl>" onclick="javascript:closeDiy('setCursor');"><tpl> $langStoreStyleClose </tpl></a></div>
		<h2><tpl> $langStoreStyleSetCursor </tpl></h2>
	</div>
	<div class="floatcontent">
		<div class="floatmenu"></div>
		<div class="floatmain" id="cursorpic">
			<div class="floatnav" id="cursorPicNav">
				<ul class="navcolor">
					<li onclick="changeSysBackground(this, '&amp;colorid=1', 'cursorPicNav');"><a href="javascript:;"><tpl> $langStoreStyleBlack </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;colorid=2', 'cursorPicNav');"><a href="javascript:;"><tpl> $langStoreStyleWrite </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;colorid=3', 'cursorPicNav');"><a href="javascript:;"><tpl> $langStoreStylePink </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;colorid=4', 'cursorPicNav');"><a href="javascript:;"><tpl> $langStoreStyleYellow </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;colorid=5', 'cursorPicNav');"><a href="javascript:;"><tpl> $langStoreStyleGreen </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;colorid=6', 'cursorPicNav');"><a href="javascript:;"><tpl> $langStoreStyleBlue </tpl></a></li>
				</ul>
				<ul>
					<li class="on" onclick="changeSysBackground(this, '', 'cursorPicNav');"><a href="javascript:;"><tpl> $langStoreStyleAll </tpl></a></li>					
					<li onclick="changeSysBackground(this, '&amp;categoryid=1', 'cursorPicNav');"><a href="javascript:;"><tpl> $langStoreStyleSimple </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;categoryid=2', 'cursorPicNav');"><a href="javascript:;"><tpl> $langStoreStyleLovely </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;categoryid=3', 'cursorPicNav');"><a href="javascript:;"><tpl> $langStoreStyleCool </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;categoryid=4', 'cursorPicNav');"><a href="javascript:;"><tpl> $langStoreStyleRomantic </tpl></a></li>
					<li onclick="changeSysBackground(this, '&amp;categoryid=5', 'cursorPicNav');"><a href="javascript:;"><tpl> $langStoreStyleOther </tpl></a></li>
				</ul>
			</div>
			<div class="floatbody imgheight" id="cursorList"></div>
		</div>	
		<div class="floatfun">
			<a href="javascript:;" class="cancel" style="display: none;" onclick="javascript:closeDiy('setCursor');"><tpl> $langStoreStyleCancel </tpl></a>
			<a href="javascript:;" class="oksubmit"><tpl> $langStoreStyleDetermine </tpl></a>
		</div>
	</div>
</div>

<div id="diyFrame" class="floatwin" style="display: none;">
	<div class="floattitle" id="diyFrameHeader">
		<div class="rcon"><a href="javascript:;" class="btnclose" title="<tpl> $langStoreStyleClose </tpl>" onclick="javascript:closeDiy('diyFrame');"><tpl> $langStoreStyleClose </tpl></a></div>
		<h2><tpl> $langStoreStyleSelFrame </tpl></h2>
	</div>
	<div class="floatcontent">
		<div class="floatmenu"></div>
		<div class="floatmain">
			<ul class="webframe" id="selectFrameContent">
				<li>
				<a href="javascript:;" id="LC_F" class="frame13 onframe13" title="1:3" onclick="changeFrame('LC');">1:3</a>
				</li>
				<li>
				<a href="javascript:;" id="CL_F" class="frame31" title="3:1" onclick="changeFrame('CL');">3:1</a>
				</li>
				<li>
				<a href="javascript:;" id="LCR_F" class="frame121" title="1:2:1" onclick="changeFrame('LCR');">1:2:1</a>
				</li>
				<li>
				<a href="javascript:;" id="LRC_F" class="frame112" title="1:1:2" onclick="changeFrame('LRC');">1:1:2</a>
				</li>
				<li>
				<a href="javascript:;" id="CLR_F" class="frame211" title="2:1:1" onclick="changeFrame('CLR');">2:1:1</a>
				</li>
			</ul>
		</div>
		<div class="floatfun">
			<a href="javascript:;" class="oksubmit"><tpl> $langStoreStyleDetermine </tpl></a>
		</div>
	</div>
</div>

<div id="selectBlock" class="floatwin" style="display: none;">
	<div class="floattitle" id="selectBlockHeader">
		<div class="rcon"><a href="javascript:closeDiy('selectBlock');" class="btnclose" title="<tpl> $langStoreStyleClose </tpl>"><tpl> $langStoreStyleClose </tpl></a></div>
		<h2><tpl> $langStoreStyleSelBlock </tpl></h2>
	</div>
	<div class="floatcontent">
		<div class="floatmenu"></div>
		<div class="floatmain">
			<div class="floatbody">
				<ul class="floatmodule" id="divcheckbox">					
					
				</ul>
			</div>
		</div>
		<div class="floatfun">
			<a href="javascript:closeset();" class="oksubmit"><tpl> $langStoreStyleDetermine </tpl></a>
		</div>
	</div>
</div>

<div id="stylelist" style="display: none;" class="floatwin" >
	<div  class="floattitle" id="stylelistHeader">
		<div class="rcon"><a title="<tpl> $langStoreStyleClose </tpl>" class="btnclose" href="javascript:closeDiy('stylelist');"><tpl> $langStoreStyleClose </tpl></a></div>
		<h2><tpl>$langStoreStyleSelStyle</tpl></h2>
	</div>
	<div class="floatcontent">
		<div class="floatmenu"></div>
		<div class="floatmain">
			<div class="floatbody">
				<table cellspacing="0" cellpadding="0" border="0" width="100%">
				<tr>
				<td style="font-weight:bold;text-align:center;width:60%;"><tpl>$langStoreStyleName</tpl></td>
				<td style="font-weight:bold;text-align:center;width:40%;"><tpl>$langStoreStyleNewModOperation</tpl></td>
				</tr>
				<tpl> section name=loop loop=$style_array </tpl>
					<tr class="es-td">
						
						<td style="text-align:center;width:60%;"><tpl> $style_array[loop].style_name </tpl><div style="display:none"><tpl> $style_array[loop].style_body </tpl></div></td>
						
                        <td style="text-align:center;width:40%;"><a href="javascript:;" onclick="seleted_style(this)"><tpl>$langStoreStyleSel</tpl></a><input type="hidden" id="style_id" value="<tpl> $style_array[loop].style_id </tpl>" /></td>
					</tr>
						<tpl> /section </tpl>
				
				</table>
			</div>
		</div>
		<div class="floatfun">
		<a class="cancel" href="javascript:closeDiy('stylelist');" id="cancelstylelist"><tpl> $langStoreStyleClose </tpl></a>
			
		</div>
	</div>
</div>

<div id="mp3list" style="display: none;" class="floatwin" >
	<div  class="floattitle" id="mp3Header">
		<div class="rcon"><a title="<tpl> $langStoreStyleClose </tpl>" class="btnclose" href="javascript:closeDiy('mp3list');"><tpl> $langStoreStyleClose </tpl></a></div>
		<h2><tpl>$langShopModuleMp3</tpl></h2>
	</div>
	<div class="floatcontent">
		<div class="floatmenu"></div>
		<div class="floatmain">
			<div class="floatbody">
				<table id="mp3table" cellspacing="0" cellpadding="0" border="0" width="100%">
				<tr>
				<td>
				<table><tr>
				<td id="mp3name" style="font-weight:bold;text-align:center;width:30%;">1.<tpl>$langShopModuleMp3Name</tpl><input type="text" size="50" /></td></tr>
				<tr>
				<td id="mp3url" style="font-weight:bold;text-align:center;width:70%;">1.<tpl>$langShopModuleMp3Url</tpl><input type="text" size="50" /></td>
				</tr>
				</table>
				</td>
				</tr>
							<tr>
				<td>
				<table><tr>
				<td id="mp3name" style="font-weight:bold;text-align:center;width:30%;">2.<tpl>$langShopModuleMp3Name</tpl><input type="text" size="50" /></td></tr>
				<tr>
				<td id="mp3url" style="font-weight:bold;text-align:center;width:70%;">2.<tpl>$langShopModuleMp3Url</tpl><input type="text" size="50" /></td>
				</tr>
				</table>
				</td>
				</tr>				<tr>
				<td>
				<table><tr>
				<td id="mp3name" style="font-weight:bold;text-align:center;width:30%;">3.<tpl>$langShopModuleMp3Name</tpl><input type="text" size="50" /></td></tr>
				<tr>
				<td id="mp3url" style="font-weight:bold;text-align:center;width:70%;">3.<tpl>$langShopModuleMp3Url</tpl><input type="text" size="50" /></td>
				</tr>
				</table>
				</td>
				</tr>				<tr>
				<td>
				<table><tr>
				<td id="mp3name" style="font-weight:bold;text-align:center;width:30%;">4.<tpl>$langShopModuleMp3Name</tpl><input type="text" size="50" /></td></tr>
				<tr>
				<td id="mp3url" style="font-weight:bold;text-align:center;width:70%;">4.<tpl>$langShopModuleMp3Url</tpl><input type="text" size="50" /></td>
				</tr>
				</table>
				</td>
				</tr>				<tr>
				<td>
				<table><tr>
				<td id="mp3name" style="font-weight:bold;text-align:center;width:30%;">5.<tpl>$langShopModuleMp3Name</tpl><input type="text" size="50" /></td></tr>
				<tr>
				<td id="mp3url" style="font-weight:bold;text-align:center;width:70%;">5.<tpl>$langShopModuleMp3Url</tpl><input type="text" size="50" /></td>
				</tr>
				</table>
				</td>
				</tr>
				</table>
			</div>
		</div>
		<div class="floatfun">
		<a class="oksubmit" href="javascript:;" id="mp3close"><tpl> $langStoreStyleDetermine </tpl></a>
			
		</div>
	</div>
</div>


<div style="display: none;" class="floatwin" id="videolist">
	<div  class="floattitle" id="videoHeader">
		<div class="rcon"><a title="<tpl> $langStoreStyleClose </tpl>" class="btnclose" href="javascript:closeDiy('videolist');"><tpl> $langStoreStyleClose </tpl></a></div>
		<h2><tpl> $langShopModuleVideo </tpl></h2>
	</div>
	<div class="floatcontent">
		<div class="floatmenu"></div>
		<div class="floatmain">
			<div class="floatbody" style="height:150px">
			<div><span style=" color:#FF0000"><tpl> $langShopModuleVideoExplanation </tpl></span></div>
			<tpl> $langShopModuleVideoUrl </tpl><input type="text" id="videotext" value="" size="75" />
			</div>
		</div>
		<div class="floatfun">
	<a class="oksubmit" href="javascript:;" id="videoclose"><tpl> $langStoreStyleDetermine </tpl></a>
			
		</div>
	</div>
</div>







<div style="display: none;" class="floatwin" id="modulelist">
	<div  class="floattitle" id="moduleaddHeader">
		<div class="rcon"><a title="<tpl> $langStoreStyleClose </tpl>" class="btnclose" href="javascript:closeDiy('modulelist');"><tpl> $langStoreStyleClose </tpl></a></div>
		<h2><tpl>$langStoreStyleNewModList</tpl></h2>
	</div>
	<div class="floatcontent">
		<div class="floatmenu"></div>
		<div class="floatmain">
			<div class="floatbody">
				<table width="100%" border="0" cellspacing="0" cellpadding="0"  id="modulelisttable">
 
</table>
			</div>
		</div>
		<div class="floatfun">
		<a class="cancel" href="javascript:closeDiy('modulelist');" id="cancelBg"><tpl> $langStoreStyleClose </tpl></a>
			<a href="javascript:;" class="add" id="moduleaddButton"><tpl>$langStoreStyleNewModAdd</tpl></a>
			
		</div>
	</div>
</div>

<div style="width:800px;" class="floatwin" id="moduleadd">
	<div id="moduleaddButtonHeader" class="floattitle">
		<div class="rcon"><a  id="closeaddmodule" title="<tpl> $langStoreStyleClose </tpl>" class="btnclose" href="javascript:closeDiy('moduleadd');"><tpl> $langStoreStyleClose </tpl></a></div>
		<h2><tpl>$langStoreStyleNewModAdd</tpl></h2>
	</div>
	<div class="floatcontent-8">
		<div class="floatmenu-8"></div>
		<div class="floatmain">
			<div class="floatbody">
				<table border="0" align="center" cellpadding="0" cellspacing="0" class="moule">
				<tr>
				<td class="td-blod"><tpl> $langStoreStyleNewModType </tpl>:</td>
				<td><input class="td-visited-1" name="radiobutton" id="radiobutton1" onclick="onchange_add_module(this)" type="radio" value="1" checked="checked" /><label class="td-visited"><tpl> $langStoreStyleNewMod </tpl></label><input class="td-visited-1" name="radiobutton" id="radiobutton2" type="radio" onclick="onchange_add_module(this)" value="2" /><label class="td-visited"><tpl> $langStoreStyleNewModproduct </tpl></label></td>
				</tr>
	<tr>
    <td  class="td-blod td-line"><tpl>$langStoreStyleNewModName</tpl>:</td><td class="td-line"><input type="text" style="width:45%" id="modulename" name="modulename" /></td>
  </tr>
  <tr id="module_tr">
    <td class="td-blod"><tpl>$langStoreStyleNewModBody</tpl>:</td><td><textarea id="addeditortext" name="addeditortext"></textarea>
	</td>
  </tr>
  <tr id="product_module_tr" style="display:none">
  <td class="td-blod"><tpl>$langStoreStyleNewModBody</tpl>:</td>
  <td>
  <table border="0" cellpadding="0" cellspacing="0" style="margin-top:3px;">
  	<tr><td>
	<table style="border:#cad9eb 1px solid;"  border="0" cellpadding="0" cellspacing="0" class="fct-1">

		<tr height="50">
			<th width="80"><tpl>$langStoreStyleNewModKey</tpl></th>
			<td width="240">
			<input type="hidden" name="search_cate" id="search_cate" />
				<input type="text" id="keyword" class="fct-input-2" name="keyword" />
				&nbsp;&nbsp;
				<input value="<tpl>$langStoreStyleNewModSeach</tpl>" type="button" class="bthl" onclick="product_submit_search();"/>		
			</td>
		</tr>
		<tr>
			<td colspan="2" style="border:none; padding:0px;">
				<div id="pro_search_list">
				
				</div>
			</td>
		</tr>
	</table>
	</td><td align="right" valign="top">

    <table  border="0" width="99%" cellpadding="0" cellspacing="0" class="fct-1">
		
		<tr>
			<td colspan="2" valign="top" style="padding:0px; margin:0px; border:none;" >
				<table border="0" cellpadding="0" cellspacing="0" id="pro_list" class="fct-11">
				<tr>
					<td align="left" width="200" bgcolor="#EAEFF6">
						<tpl>$langStoreStyleNewModProductName</tpl></td>
				    <td align="left" width="120" bgcolor="#EAEFF6">
				    	<tpl>$langStoreStyleNewModorder</tpl></td>
				    <td align="left" width="50" bgcolor="#EAEFF6">
				    	<tpl>$langStoreStyleNewModOperation</tpl></td>
				</tr>
							    </table>
			</td>
		</tr>
		
	</table>
</td></tr></table>
<script>




function up_product_submit_search(){
	
	var search_keyword = escape(jquery("#up_keyword").val());
	jquery.ajax({
		url: "control.php",
		data: "action=product_search&search_cate=&keyword="+search_keyword,
		type: "get",
		dataType: "html",
		success: function(msg){
		//alert(msg);
			if(msg != ""){
				ShowDiv = 'up_pro_search_list';
				jquery("#up_pro_search_list").html(msg);
			}else{
				alert("<tpl>$langChannelClassNull</tpl>");
			}
		},
		error: function(){
			alert('<tpl>$langChannelEarchErr</tpl>');
		}
	});
	return false;
}
function product_submit_search(){
	
	var search_keyword = escape(jquery("#keyword").val());
	jquery.ajax({
		url: "control.php",
		data: "action=product_search&search_cate="+jquery("#search_cate").val()+"&keyword="+search_keyword,
		type: "get",
		dataType: "html",
		success: function(msg){
		//alert(msg);
			if(msg != ""){
				ShowDiv = 'pro_search_list';
				jquery("#pro_search_list").html(msg);
			}else{
				alert("<tpl>$langChannelClassNull</tpl>");
			}
		},
		error: function(){
			alert('<tpl>$langChannelEarchErr</tpl>');
		}
	});
	return false;
}
</script></td>
  </tr>
</table>
			</div>
		</div>
		<div class="floatfun-8">
			<a href="javascript:" onclick="addmodule()" class="oksubmit"><tpl> $langStoreStyleDetermine </tpl></a>
		</div>
	</div>

</div>
<div  style=" width:800px" class="floatwin" id="moduleupdate">
	<div id="moduleaupButtonHeader" class="floattitle">
		<div class="rcon"><a onclick="javascript:closeDiy('moduleupdate');" id="closeaddmoduleupdate" title="<tpl> $langStoreStyleClose </tpl>" class="btnclose" href="javascript:;"><tpl> $langStoreStyleClose </tpl></a></div>
		<h2><tpl>$langStoreStyleNewModUpdate</tpl></h2>
	</div>
	<div class="floatcontent-8">
		<div class="floatmenu-8"></div>
		<div class="floatmain">
			<div class="floatbody">
				<table border="0" align="center" cellpadding="0" cellspacing="0" class="moule">
				<tr>
				<td class="td-blod"><tpl> $langStoreStyleNewModType </tpl>:</td>
				<td><input class="td-visited-1" name="upradiobutton" id="upradiobutton1" onclick="uponchange_add_module(this)" type="radio" value="1" checked="checked" /><label class="td-visited"><tpl> $langStoreStyleNewMod </tpl></label><input class="td-visited-1" name="upradiobutton" id="upradiobutton2" type="radio" onclick="uponchange_add_module(this)" value="2" /><label class="td-visited"><tpl> $langStoreStyleNewModproduct </tpl></label></td>
				</tr>
	<tr>
    <td class="td-blod td-line"><tpl>$langStoreStyleNewModName</tpl>:</td><td class="td-line"><input type="hidden" id="module_id" value='' /><input type="text" style="width:45%" id="upmodulename" name="upmodulename" /></td>
  </tr>
   <tr  id="up_module_tr">
    <td class="td-blod"><tpl>$langStoreStyleNewModBody</tpl>:</td><td><textarea id="upeditortext" name="upeditortext"></textarea></td>
  </tr>
  <!----->
  
  <tr id="up_product_module_tr" style="display:none" >
  <td class="td-blod"><tpl>$langStoreStyleNewModBody</tpl>:</td>
  <td>
  <table border="0" cellpadding="0" cellspacing="0" style="margin-top:3px;">
  	<tr><td>
	<table style="border:#cad9eb 1px solid;"  border="0" cellpadding="0" cellspacing="0" class="fct-1">

		<tr height="50">
			<th width="80"><tpl>$langStoreStyleNewModKey</tpl><strong>:</strong></th>
			<td width="240">
			<input type="hidden" name="search_cate" id="search_cate" />
				<input type="text" id="up_keyword" class="fct-input-2" name="keyword" />
				&nbsp;&nbsp;
				<input value="<tpl>$langStoreStyleNewModSeach</tpl>" type="button" class="bthl" onclick="up_product_submit_search();"/>		
			</td>
		</tr>
		<tr>
			<td colspan="2" style="border:none; padding:0px;">
				<div id="up_pro_search_list">
				
				</div>
			</td>
		</tr>
	</table>
	</td><td align="right" valign="top">

    <table  width="99%"  border="0" cellpadding="0" cellspacing="0" class="fct-1">
		
		<tr>
			<td style="padding:0px; margin:0px; border:none;" colspan="2" >
				<table  border="0" cellpadding="0" cellspacing="0" id="up_pro_list" class="fct-11">
				<tr>
					<td align="left"  width="200" bgcolor="#EAEFF6">
						<tpl>$langStoreStyleNewModProductName</tpl></td>
				    <td align="left"  width="120" bgcolor="#EAEFF6">
				    	<tpl>$langStoreStyleNewModorder</tpl></td>
				    <td align="left"  width="50" bgcolor="#EAEFF6">
				    	<tpl>$langStoreStyleNewModOperation</tpl></td>
				</tr>
							    </table>
			</td>
		</tr>
		
	</table>
</td></tr></table>
</td>
  </tr>
</table>
			</div>
		</div>
		<div class="floatfun-8">
			<a href="javascript:" class="oksubmit" onclick="updatemodule()"><tpl> $langStoreStyleDetermine</tpl></a>
		</div>
	</div>
</div>














<div id="setBlock" class="floatwin" style="display: none;">
	<div class="floattitle" id="setBlockHeader">
		<div class="rcon"><a href="javascript:;" class="btnclose" title="<tpl> $langStoreStyleClose </tpl>" onclick="javascript:closeDiy('setBlock');"><tpl> $langStoreStyleClose </tpl></a></div>
		<h2><tpl> $langStoreStyleSetBlockStyle </tpl> -- <a id="blockName"></a></h2>
	</div>
	<div class="floatcontent">
		<div class="floatmenu">
			<ul>
				<li id="menuTitle"><a href="javascript:;" onclick="javascript:showBlockTitle();"><tpl> $langStoreStyleTitleSet </tpl></a></li>
				<li id="menuContent"><a href="javascript:;" onclick="javascript:showBlockContent();"><tpl> $langStoreStyleMainSet </tpl></a></li>
			</ul>
		</div>
		<div class="floatmain">
			<div class="floatbody" id="setTitle">
				<ul class="formlist">
					<li>
					<label for=""><tpl> $langStoreStyleTitleBg </tpl>:</label>
					<a href="javascript:;" class="fbtn_select" id="selectTitleBg"><tpl> $langStoreStyleSelPic </tpl></a>
					<a href="javascript:;" class="fbtn_cancel" onclick="javascript:setBlockStyle('background-image', '', '.blocktitle');"><tpl> $langStoreStyleNoSelPic </tpl></a>
					<input value="" id="oldTitleBgImg" type="hidden">
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentBgRepeat </tpl>:</label>
					<select id="titleBgRepeat">
					<option selected="selected" value="repeat"><tpl> $langStoreStyleRepeat </tpl></option>
					<option value="repeat-x"><tpl> $langStoreStyleRepeatToX </tpl></option>
					<option value="repeat-y"><tpl> $langStoreStyleRepeatToY </tpl></option>
					<option value="no-repeat"><tpl> $langStoreStyleRepeatNo </tpl></option>
					</select>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentBgPlace </tpl>:</label>
					<div class="wc-o az">
					<table id="selectTitlePlace" class="wc"><tbody>
					<tr class="wcr0"><td class="wcc0 iw0"> </td><td class="wcc1"> </td><td class="wcc0 iw0 selected"> </td><td class="wcc1"> </td><td class="wcc0 iw0"> </td></tr>
					<tr class="wcr1"><td colspan="5"> </td></tr>
					<tr class="wcr0"><td class="wcc0 iw0"> </td><td class="wcc1"> </td><td class="wcc0 iw0"> </td><td class="wcc1"> </td><td class="wcc0 iw0"> </td></tr>
					<tr class="wcr1"><td colspan="5"> </td></tr>
					<tr class="wcr0"><td class="wcc0 iw0"> </td><td class="wcc1"> </td><td class="wcc0 iw0"> </td><td class="wcc1"> </td><td class="wcc0 iw0"> </td></tr>
					</tbody></table>
					</div>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentBgColor </tpl>:</label>
					<input class="txt" id="titleBgColor" type="text">
					<span class="control_color" id="titleBgColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
				</ul>
				<ul class="formlist">
					<li>
					<label for=""><tpl> $langStoreStyleTitleFontSize </tpl>:</label>
					<select name="text" id="titleFontsize">
					<option selected="selected" value="12">12px</option>
					<option value="14">14px</option>
					<option value="16">16px</option>
					</select>
					<input id="titleWeight" name="titleWeight" value="" type="checkbox"><tpl> $langStoreStyleContentBold </tpl>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentColor </tpl>:</label>
					<input class="txt" name="titleFontcolor" id="titleFontcolor" type="text">
					<span class="control_color" id="titleFontcolorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleTitleHeight </tpl>:</label>
					<div class="hxdiv">
					<div class="hxmoverange" id="hxMoveRange">
					<div class="hxmovebg"></div>
					<div class="hxmove" id="sliderH"></div>
					</div>
					</div>
					<input class="txtnum" id="titleHeight" type="text">px
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleTitleLeft </tpl>:</label>
					<div class="hxdiv">
					<div class="hxmoverange" id="hxMoveRangeLeft">
					<div class="hxmovebg"></div>
					<div class="hxmove" id="sliderHLeft"></div>
					</div>
					</div>
					<input class="txtnum" id="titleLeft" type="text">px
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleSplitLine </tpl>:</label>
					<select id="titleBorderStyle" name="text">
					<option selected="selected" value=""></option>
					<option value="solid"><tpl> $langStoreStyleSolid </tpl></option>
					<option value="dashed"><tpl> $langStoreStyleDashed </tpl></option>
					<option value="dotted"><tpl> $langStoreStyleDotted </tpl></option>
					</select>
					<select id="titleBorderWidth" name="size">
					<option selected="selected" value="0"><tpl> $langStoreStyleNoSplitLine </tpl></option>
					<option value="1">1px</option>
					<option value="2">2px</option>
					<option value="3">3px</option>
					</select>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleBorderColor </tpl>:</label>
					<input class="txt" id="titleBorderColor" type="text">
					<span class="control_color" id="titleBorderColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
				</ul>
			</div>
			<div class="floatbody" id="setContent" style="display: none;">
				<ul class="formlist">
					<li>
					<label for=""><tpl> $langStoreStyleMainBg </tpl>:</label>						
					<a href="javascript:;" class="fbtn_select" id="selectContentBg"><tpl> $langStoreStyleSelPic </tpl></a>
					<a href="javascript:;" class="fbtn_cancel" onclick="javascript:setBlockStyle('background-image', '', '.blockcontent');"><tpl> $langStoreStyleNoSelPic </tpl></a>
					<input value="" id="oldContentBgImg" type="hidden">
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentBgRepeat </tpl>:</label>
					<select id="blockContentBgRepeat">
					<option selected="selected" value="repeat"><tpl> $langStoreStyleRepeat </tpl></option>
					<option value="repeat-x"><tpl> $langStoreStyleRepeatToX </tpl></option>
					<option value="repeat-y"><tpl> $langStoreStyleRepeatToY </tpl></option>
					<option value="no-repeat"><tpl> $langStoreStyleRepeatNo </tpl></option>
					</select>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentBgPlace </tpl>:</label>
					<div class="wc-o az">
					<table id="selectContentPlace" class="wc"><tbody>
					<tr class="wcr0"><td class="wcc0 iw0"> </td><td class="wcc1"> </td><td class="wcc0 iw0 selected"> </td><td class="wcc1"> </td><td class="wcc0 iw0"> </td></tr>
					<tr class="wcr1"><td colspan="5"> </td></tr>
					<tr class="wcr0"><td class="wcc0 iw0"> </td><td class="wcc1"> </td><td class="wcc0 iw0"> </td><td class="wcc1"> </td><td class="wcc0 iw0"> </td></tr>
					<tr class="wcr1"><td colspan="5"> </td></tr>
					<tr class="wcr0"><td class="wcc0 iw0"> </td><td class="wcc1"> </td><td class="wcc0 iw0"> </td><td class="wcc1"> </td><td class="wcc0 iw0"> </td></tr>
					</tbody></table>
					</div>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentBgColor </tpl>:</label>
					<input class="txt" id="blockContentBgColor" type="text">
					<span class="control_color" id="blockContentBgColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
				</ul>
				<ul class="formlist">
					<li>
					<label for=""><tpl> $langStoreStyleContentSize </tpl>:</label>
					<select name="text" id="blockContentSize">
					<option selected="selected" value="12">12px</option>
					<option value="14">14px</option>
					<option value="16">16px</option>
					</select>
					<input id="blockContentWeight" name="blockContentWeight" value="" type="checkbox"><tpl> $langStoreStyleContentBold </tpl>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentColor </tpl>:</label>
					<input class="txt" id="blockContentColor" type="text">
					<span class="control_color" id="blockContentColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentHrefColor </tpl>:</label>
					<input class="txt" id="blockContentHrefColor" type="text">
					<span class="control_color" id="blockContentHrefColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentHoverColor </tpl>:</label>
					<input class="txt" id="blockContentHoverColor" type="text">
					<span class="control_color" id="blockContentHoverColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentBorderStyle </tpl>:</label>
					<select id="blockContentBorderStyle" name="text">
					<option selected="selected" value=""></option>
					<option value="solid"><tpl> $langStoreStyleSolid </tpl></option>
					<option value="dashed"><tpl> $langStoreStyleDashed </tpl></option>
					<option value="dotted"><tpl> $langStoreStyleDotted </tpl></option>
					</select>
					<select id="blockContentBorderWidth" name="size">
					<option selected="selected" value="0"><tpl> $langStoreStyleNoBorder </tpl></option>
					<option value="1">1px</option>
					<option value="2">2px</option>
					<option value="3">3px</option>
					</select>
					</li>
					<li>
					<label for=""><tpl> $langStoreStyleContentBorderColor </tpl>:</label>
					<input class="txt" id="blockContentBorderColor" type="text">
					<span class="control_color" id="blockContentBorderColorCtrl" style="background-color: rgb(0, 0, 0);"></span>
					</li>
					<li id="playerTop" style="display: none;">
					<label for=""><tpl> $langStoreStyleLocation </tpl>:</label>
					<div class="hxdiv">
					<div class="hxmoverange" id="hxMoveRangePlayer">
					<div class="hxmovebg"></div>
					<div class="hxmove" id="sliderHPlayer"></div>
					</div>
					</div>
					</li>
				</ul>
			</div>
			
		</div>
		<div class="floatfun">
			<a href="javascript:;" class="cancel" onclick="javascript:closeDiy('setBlock');"><tpl> $langStoreStyleCancel </tpl></a>
			<a href="javascript:;" class="oksubmit"><tpl> $langStoreStyleDetermine </tpl></a>
			<p>
			<tpl> $langStoreStyleSetUseTo </tpl>:
			<input name="blockRadio" id="onlyCurrentBlock" value="1" checked="checked" type="radio"><label><tpl> $langStoreStyleOnlyThisBlock </tpl></label>
			<input name="blockRadio" id="setAllBlock" value="2" type="radio"><label><tpl> $langStoreStyleAllBlock </tpl></label>
			</p>
		</div>
	</div>
</div>

<div id="transferReady" class="transfer" style="z-index: 200; position: absolute; left: 66px; top: 524px; width: 238px; height: 91px; display: none;">
	<div class="transferbody"><a style="" href="javascript:;" id="delblock" onmousedown="closeBlock(event);" class="delblock"><tpl> $langStoreStyleDelete </tpl></a><a href="javascript:;" id="editBlock" class="editBlock"><tpl> $langStoreStyleEdit </tpl></a></div>
</div>


<div id="clrMain" style="display: none; z-index: 99999;">
	<iframe style="background-color: transparent; position: absolute; width: 252px; height: 253px;" frameborder="0" scrolling="no"></iframe>
	<div id="clrColor"><div id="clrBGColor"><img id="clrCrosshairs" galleryimg="false" src="<tpl> $template_dir </tpl>/images/mappoint.gif" style="display: none;"></div></div>
	<div id="clrHue"><img id="clrRangeArrows" galleryimg="false" src="<tpl> $template_dir </tpl>/images/rangearrows.gif" style="display: none;"></div>
	<div id="clrPreview"></div>
	<input name="clrColorValue" id="clrColorValue" type="text">
	<img src="<tpl> $template_dir </tpl>/images/btn_nocolor.gif" style="left: 165px; position: absolute; top: 225px;" onclick="getColor('transparent');">
	<a href="javascript:;" class="fbtn_cancel" onclick="$('clrMain').style.display='none';" style="width: 50px; left: 190px; position: absolute; top: 225px;"><tpl> $langStoreStyleDetermine </tpl></a>
</div>
<div id="dstdiv" style="border: 1px solid rgb(18, 52, 86); width: 400px; height: 250px; background-color: rgb(153, 153, 153); display: none;">
	cccc<a href="javascript:;" class="closeDiv">close</a>
</div>
<div id="showData"></div>
<div id="append_parent"></div>
<div id="ajaxwaitid"></div>

<div id="<tpl> $control.wrap </tpl>">
	<div id="banner" class="banner">
		<div style="cursor: move;" class="title" id="title">
			<a href="javascript:;" id="editTitle" class="editBlock"><tpl> $langStoreStyleEdit </tpl></a>
			<h1 id="myblogname"> <tpl> $shop_info.shop_name </tpl><em></em></h1>
			<p id="divMySign"><a href="javascript:;" onclick="javascript:setCopy('<tpl> $shop_info.url </tpl>');return false;"><tpl> $shop_info.url </tpl></a></p>
		</div>
	</div>
	<div class="menubody">
		<div id="menu" class="menu">
			<a href="javascript:;" id="editMenu" class="editBlock"><tpl> $langStoreStyleEdit </tpl></a>
			<ul>
				<li><tpl> $langStoreHomePage </tpl></li>
				<li><tpl> $langStoreShopIntro </tpl></li>
				<tpl> if $shop_info.audit_state eq '2' </tpl>
					<li><tpl> $langStoreShopMap </tpl></li>
				<tpl> /if </tpl>
				<tpl> section name=loop loop=$shop_tag </tpl>
					<li><tpl> $shop_tag[loop].tag_name </tpl></li>    		
				<tpl> /section </tpl> 
			</ul>
		</div>
	</div>

	<tpl> foreach from=$control.allFrame item=control_content key=key </tpl>
	<div id="<tpl> $key </tpl>" class="<tpl> if $key eq 'dcontent' </tpl><tpl> if $frame_length eq '3' </tpl>frame_2<tpl> else </tpl>frame_3<tpl> /if </tpl><tpl> else </tpl>frame_1<tpl> /if </tpl> wowoFrameTd">
		<tpl> foreach from=$control_content item=block_content key=key_content </tpl>
		<div style="cursor: move; display:none" id="<tpl> $block_content </tpl>" class="block">
	
			<tpl> foreach from=$block_list item=block key=key_block </tpl>
				<tpl> if $key_block eq $block_content </tpl>
					<tpl> include file=$block.html </tpl>
				<tpl> /if </tpl>
			<tpl> /foreach </tpl>
		</div>
		<tpl> /foreach </tpl>

		<tpl> if $key eq 'dleft' </tpl>
			<tpl> foreach from=$block_list item=block key=key_block </tpl>
				<tpl> if $block.show neq '1' </tpl>
					<div style="cursor: move;display:none" id="<tpl> $key_block </tpl>" class="block">
						<tpl> include file=$block.html </tpl>
					</div>
				<tpl> /if </tpl>
			<tpl> /foreach </tpl>
		<tpl> /if </tpl>
	</div>
	<tpl> /foreach </tpl>

	
<tpl> include file='store_footer.html' </tpl>
</div>

<div class="toolbar" id="toolbar">
	<form id="diyForm" method="post" action="control.php">
	<input id="diyStyle" name="diyStyle" value="" type="hidden">
	<input id="getBack" name="getBack" value="0" type="hidden">
	<input type="hidden" name="action" value="save" />
	<div class="toolbarbox">
		<div class="toolbarmymenu">
			<ul>
				<li class="m10"><a onclick="return confirm('<tpl> $langStoreStyleConfirmCloseDiy </tpl>');" href="<tpl> $site_url </tpl>/member/own_shopstyle.php"><tpl> $langStoreStyleCloseDiy </tpl></a></li>
				<li class="m8"><a onclick="javascript:styleBack();" href="#"><tpl> $langStoreStyleBack </tpl></a></li>
				<li class="m9"><a onclick="javascript:savestyle();" href="#"><tpl> $langStoreStyleSave </tpl></a></li>
			</ul>
		</div>
		<div class="toolbarmenu">
			<ul>
				<li class="m1"><a href="javascript:;" id="openSetFrame"><tpl> $langStoreStyleLayout </tpl></a></li>
				<li class="m2"><a href="javascript:;" id="bodyBg"><tpl> $langStoreStyleBigBackgroundPic </tpl></a></li>
				<li class="m3"><a href="javascript:;" id="bannerBg"><tpl> $langStoreStyleHeadPic </tpl></a></li>
				<li class="m4"><a href="javascript:;" id="footerBg"><tpl> $langStoreStyleFootPic </tpl></a></li>
				<li class="m5"><a href="javascript:;" id="openSetBlock"><tpl> $langStoreStyleOpenSetBlock </tpl></a></li>
				<li class="m11"><a href="javascript:;" id="moduleopen"><tpl> $langStoreStyleOpenSetBlock </tpl></a></li>
				<li class="m12"><a href="javascript:;" id="styleopen"><tpl> $langStoreStyleOpenSetBlock </tpl></a></li>
				<li class="m13"><a href="javascript:;" id="mp3open"><tpl> $langStoreStyleOpenSetBlock </tpl></a></li>
				<li class="m14"><a href="javascript:;" id="videoopen"><tpl> $langStoreStyleOpenSetBlock </tpl></a></li>
			</ul>
		</div>

	</div>
	</form>
	<div class="toolshadow">&nbsp;</div>
</div>
<div id="aaaaa" style=" display:none"></div>

<script type="text/javascript" src="<tpl> $site_url </tpl>/classes/resource/ckeditor/ckeditor.js"></script>
<script language="javascript" type="text/javascript">
var obj_style="";
var strStyle;

function seleted_style(obj)
{
	var styleid=jquery(obj).parent("td").children("#style_id").val();
	jquery.post("control.php?action=getonestyle&id="+styleid,null,function(data){
	var list=data.split("|||||"); 
	var is_ie_browser = (document.all)?true:false;
	if(is_ie_browser){//ie
	$("load_style").styleSheet.cssText=list[0];
	}
	else{//ff
	jquery("style[id='load_style']").html(list[0]);
	}
	
	//jquery("head").append('<style type="text/css" id="load_style">'+list[0]+'</style>');
		if('' != list[1]) {
		diyStyle = phpserialize.unserialize(list[1]);
		
		}

ss = new styleCss(0);
dss = new styleCss(2);
	var sort = new sortDrag('block', 'blocktitle', 'blockcontent');
	});//ajax
}


function uponchange_add_module(obj)
{
	if(obj.value==1)
	{
		$("up_product_module_tr").style.display="none";
		$("up_module_tr").style.display="";
	}else if(obj.value==2)
	{
		$("up_product_module_tr").style.display="";
		$("up_module_tr").style.display="none";

	}
}
function onchange_add_module(obj)
{
	if(obj.value==1)
	{
		$("product_module_tr").style.display="none";
		$("module_tr").style.display="";
	}else if(obj.value==2)
	{
		$("product_module_tr").style.display="";
		$("module_tr").style.display="none";

	}
}
var keysub="";
function closeset()//
{
	
	closeDiy('selectBlock');
	keysub="a";
	savestyle();
}
function backSelectBlock(data)//
{
	var str="";
	jquery.each(data,function(i){
		if(data[i].module_bodystyle=="none")
		{
		str+='<li><input type="checkbox" onclick="javascript:diySetBlock(this, \'newmodule'+data[i].module_id+'\');" id="setnewmodule'+data[i].module_id+'">'+data[i].module_name+'</li>';
		}else{
		str+='<li><input type="checkbox" checked="checked" onclick="javascript:diySetBlock(this, \'newmodule'+data[i].module_id+'\');" id="setnewmodule'+data[i].module_id+'">'+data[i].module_name+'</li>';
		}
	})
	jquery("#divcheckbox").html(str);
}
var addeditor = CKEDITOR.replace( 'addeditortext' );//fck
var upeditor = CKEDITOR.replace( 'upeditortext' );//fck


var shopinfo_html=jquery("#shopinfo").html();
var notice_html=jquery("#notice").html();
var link_html=jquery("#link").html();
var category_html=jquery("#category").html();
var message_html=jquery("#message").html();
var product_html=jquery("#product").html();
var recommend_product_html=jquery("#recommend_product").html();
var product_search_html=jquery("#product_search").html();
var mp3_html=jquery("#mp3").html();
var video_html=jquery("#video").html();
var uchome_trend_html = jquery("#uchome_trend").html();
jquery(document).ready(function(){



		

jquery.post("control.php?action=getlistmodorder",null,callbackshowmodule,"json");//

	

});
function callbackshowmodule(data)//
{
	jquery("#dleft").empty();
	jquery("#dcontent").empty();
	jquery("#dright").empty();
	jquery.each(data,function(i){
	if(data[i].module_show!="1"){
	var module_show="none";
	}else{
	var module_show="";
	}
	if(data[i].module_type=="1")
	{
		if(jquery("#"+data[i].module_parent).attr("nodeName")!="DIV")
		{
		jquery("#dcontent").append('<div class="block" id="newmodule'+data[i].module_id+'" style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" /><div class="blocktitle"><em></em><h2>'+data[i].module_name+'</h2></div><div class="blockcontent"><div class="shop_3">'+data[i].module_body+'</div></div></div>');
		}else{
		jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'" style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" /><div class="blocktitle"><em></em><h2>'+data[i].module_name+'</h2></div><div class="blockcontent"><div class="shop_3">'+data[i].module_body+'</div></div></div>');
		}
	}else if(data[i].module_type=="2"){
		if(jquery("#"+data[i].module_parent).attr("nodeName")!="DIV")
		{
			jquery("#dcontent").append('<div class="block" id="newmodule'+data[i].module_id+'" style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" /><div class="blocktitle"><em></em><h2>'+data[i].module_name+'</h2></div><div class="blockcontent"><div class="shop_3"></div></div></div>');
			jquery.post("control.php?action=showproductmod",'mudole_id='+data[i].module_id,function(pdata){
			
				jquery("#newmodule"+data[i].module_id).children("div").children(".shop_3").html(pdata);
				var sort = new sortDrag('block', 'blocktitle', 'blockcontent');
				jquery.each(jquery(".block"),function(){
		blockList[jquery(this).attr("id")]=jquery(this).children("div[class='blocktitle']").children("h2").html();
	});
			});
		
		}else{
			jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'" style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" /><div class="blocktitle"><em></em><h2>'+data[i].module_name+'</h2></div><div class="blockcontent"><div class="shop_3"></div></div></div>');
			jquery.post("control.php?action=showproductmod",'mudole_id='+data[i].module_id,function(pdata){
		//	alert(pdata);
				jquery("#newmodule"+data[i].module_id).children("div").children(".shop_3").html(pdata);
					var sort = new sortDrag('block', 'blocktitle', 'blockcontent');
					jquery.each(jquery(".block"),function(){
		blockList[jquery(this).attr("id")]=jquery(this).children("div[class='blocktitle']").children("h2").html();
	});
			});
		}
	}else if(data[i].module_type=="3")
	{
		if(data[i].module_body=="shopinfo"){
			jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'"  style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" />'+shopinfo_html+'</div>');
		}else if(data[i].module_body=="notice"){
			jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'"  style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" />'+notice_html+'</div>');
		}else if(data[i].module_body=="link"){
			jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'"  style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" />'+link_html+'</div>');
		}else if(data[i].module_body=="category"){
			jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'"  style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" />'+category_html+'</div>');
		}else if(data[i].module_body=="message"){
			jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'"  style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" />'+message_html+'</div>');
		}else if(data[i].module_body=="product"){
			jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'"  style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" />'+product_html+'</div>');
		}else if(data[i].module_body=="recommend_product"){
			jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'"  style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" />'+recommend_product_html+'</div>');
		}else if(data[i].module_body=="product_search"){
			jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'"  style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" />'+product_search_html+'</div>');
		}else if(data[i].module_body=="mp3"){
			jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'"  style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" />'+mp3_html+'</div>');
		}else if(data[i].module_body=="video"){
			jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'"  style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" />'+video_html+'</div>');
		}else if(data[i].module_body=='uchome_trend'){
            jquery("#"+data[i].module_parent).append('<div class="block" id="newmodule'+data[i].module_id+'"  style="display:'+data[i].module_bodystyle+'"><input type="hidden" value="'+data[i].module_id+'" />'+uchome_trend_html+'</div>');
        }
		
	}
	});
	var setBlock = new transfer('editBlock', 'oksubmit', 'setBlock', '', callbackSetBlock, 'setBlockHeader');

	if(jquery("#video_div").parent().parent().parent().attr("id")=="dcontent"){
	jquery("#video_div").children().height(400);
	
	}else{
	
	jquery("#video_div").children().height(200);
	}
	var sort = new sortDrag('block', 'blocktitle', 'blockcontent');
	jquery.each(jquery(".block"),function(){
		blockList[jquery(this).attr("id")]=jquery(this).children("div[class='blocktitle']").children("h2").html();
	});
}


function callbackgetlistmodule(data)//callback
{
	
	var str='<tr><td class="font-blod"><tpl>$langStoreStyleNewModName</tpl></td><td class="font-blod"><tpl>$langStoreStyleNewModOperation</tpl></td></tr>';
	jquery.each(data,function(i){
		str+='<tr><td class="text-n" id="name">'+data[i].module_name+'</td><td class="text-n"><div id="divmodule_id" style="display:none">'+data[i].module_id+'</div><a href="javascript:" onclick="onclickupdatemodule(this)" id="updatebutton" ><tpl>$langStoreStyleNewModUpdatebut</tpl></a>/<a href="javascript:" onclick="delmodule(this)"><tpl>$langStoreStyleDelete</tpl></a></td></tr>';
	});
	
	jquery("#modulelisttable").html(str);
	var setBlock = new transfer('editBlock', 'oksubmit', 'setBlock', '', callbackSetBlock, 'setBlockHeader');

	var sort = new sortDrag('block', 'blocktitle', 'blockcontent');
	jquery.each(jquery(".block"),function(){
		blockList[jquery(this).attr("id")]=jquery(this).children("div[class='blocktitle']").children("h2").html();
	});
	//
	//jquery.post("control.php?action=getlistmod",null,callbackshowmodule,"json");
}
function delmodule(obj)//
{
	  if(confirm("<tpl>$langStoreStyleDeleteCheck</tpl>"))
    {
		var id=jquery(obj).parent("td").children("#divmodule_id").html();
		jquery("#newmodule"+id).remove();
	jquery.post("control.php?action=delmod&id="+id,null,callbackdelmodule);
        
     }

	
}
function callbackdelmodule()
{
	jquery.post("control.php?action=getlistmod",null,callbackgetlistmodule,"json");//ajax
}

function addmodule()//
{
	if(jquery("#radiobutton1").attr("checked")==true)
	{
	
		var oEditor=CKEDITOR.instances.addeditortext;
		var name=jquery("#modulename").val();
			if(name=="")
			{
				alert("<tpl>$langStoreStyleNewModNameNoNull</tpl>");
				return;
			}
		var moduletextarea=oEditor.getData();
		jquery.post("control.php?action=addmod","module_name="+name+"&module_body="+moduletextarea,function(data)
		{
		$("modulename").value="";
		var oEditor=CKEDITOR.instances.addeditortext;
		oEditor.setData("");
		closeDiy('moduleadd');
		jquery("#dcontent").append('<div class="block" id="newmodule'+data+'" style="display:"><input type="hidden" value="'+data+'" /><div class="blocktitle"><em></em><h2>'+name+'</h2></div><div class="blockcontent"><div class="shop_3">'+moduletextarea+'</div></div></div>');
		blockList['newmodule'+data] = name;
		jquery.post("control.php?action=getlistmod",null,callbackgetlistmodule,"json");//ajax
		});	
	}else if(jquery("#radiobutton2").attr("checked")==true){
		var name=jquery("#modulename").val();
			if(name=="")
			{
				alert("<tpl>$langStoreStyleNewModNameNoNull</tpl>");
				return;
			}
			var pid="";
			jquery.each(jquery("#pro_list").children("tbody").children("tr[id='product_search_info_tr']"),function(){
			pid+=jquery(this).children("td").children("input[type='hidden']").val()+"|,"+jquery(this).children("td").children("input[type='text']").val()+"|.";
			});
		jquery.post("control.php?action=addmodpid","module_name="+name+"&pid="+pid,function(data)
		{
		
		jquery('#pro_search_list').empty();
		$("modulename").value="";
		jquery('#pro_list').html('<tr><td width="200" bgcolor="#EAEFF6"><tpl>$langStoreStyleNewModProductName</tpl></td><td width="120" bgcolor="#EAEFF6"><tpl>$langStoreStyleNewModorder</tpl></td><td width="50" bgcolor="#EAEFF6"><tpl>$langStoreStyleNewModOperation</tpl></td></tr>');
		closeDiy('moduleadd');
		jquery.post("control.php?action=showproductmod",'mudole_id='+data,function(pdata){
		jquery("#dcontent").append('<div class="block" id="newmodule'+data+'" style="display:"><input type="hidden" value="'+data+'" /><div class="blocktitle"><em></em><h2>'+name+'</h2></div><div class="blockcontent"><div class="shop_3">'+pdata+'</div></div></div>');
		});
		jquery.post("control.php?action=getlistmod",null,callbackgetlistmodule,"json");//ajax
		});	
	}
	
}
function onclickupdatemodule(obj)//
{
	jquery("#up_pro_list").children("tbody").children("tr[id='product_search_info_tr']").remove();
	jquery("#up_pro_search_list").children().remove();
	var oEditor = CKEDITOR.instances.upeditortext;
	jquery("#module_id").val(jquery(obj).parent("td").children("#divmodule_id").html());
	jquery("#upmodulename").val(jquery(obj).parent("td").parent("tr").children("#name").html());
	
	jquery.post("control.php?action=getonemod","module_id="+jquery(obj).parent("td").children("#divmodule_id").html(),function(data){
		if(data.module_type=="1")
		{
		jquery("#upradiobutton1").trigger("onclick");
		jquery('#upradiobutton1').attr("checked",'checked');
		oEditor.setData(data.module_body);
		}else if(data.module_type=="2")
		{
		jquery("#upradiobutton2").trigger("onclick");
		jquery('#upradiobutton2').attr("checked",'checked');
		jquery.post("control.php?action=updateproduct","mid="+data.module_id,function(data){
		
			jquery('#up_pro_list').append(data);
		});
		
		}
	},'json');
	jquery("#aaaaa").trigger("onmousedown");
}
function updatemodule()//
{	
		var oEditor = CKEDITOR.instances.upeditortext;
		var module_id=jquery("#module_id").val();
		var name=jquery("#upmodulename").val();
		if(name=="")
		{
			alert("<tpl>$langStoreStyleNewModNameNoNull</tpl>");
			return;
		}
		var moduletextarea=oEditor.getData();
		if(jquery("#upradiobutton1").attr("checked")==true)
		{
			
			jquery("#newmodule"+module_id).children(".blocktitle").children("h2").html(name);
			jquery("#newmodule"+module_id).children(".blockcontent").children(".shop_3").html(moduletextarea);
			jquery.post("control.php?action=updatemod","module_id="+module_id+"&module_name="+name+"&module_body="+moduletextarea+"&module_type=1",function(){
				closeDiy('moduleupdate');
				jquery.post("control.php?action=getlistmod",null,callbackgetlistmodule,"json");//ajax
				
			});
		}else if(jquery("#upradiobutton2").attr("checked")==true){
			var pid="";
			jquery.each(jquery("#up_pro_list").children("tbody").children("tr[id='product_search_info_tr']"),function(){
			pid+=jquery(this).children("td").children("input[type='hidden']").val()+"|,"+jquery(this).children("td").children("input[type='text']").val()+"|.";
			});
			
			jquery.post("control.php?action=updateproductmod","module_id="+module_id+"&module_name="+name+"&pid="+pid+"&module_type=2",function(){
				jquery("#up_pro_list").children("tbody").children("tr[id='product_search_info_tr']").remove();
				jquery("#up_pro_search_list").children().remove();
				closeDiy('moduleupdate');
				
				jquery.post('control.php?action=showproductmod','mudole_id='+module_id,function(pdata){jquery("#newmodule"+module_id).children(".blocktitle").children("h2").html(name);jquery("#newmodule"+module_id).children(".blockcontent").children(".shop_3").html(pdata);},'html');
});
		}
	
}




function savestyle()//div
{
    var str="";

	jquery.each(jquery("#dleft").children("div"),function(i){
	str+="dleft|,"
	str+=jquery(this).children("input").val()+"|,";
	str+=this.style.display+"|,";
	str+=i+"|."
	});
	
	jquery.each(jquery("#dright").children("div"),function(i){
	str+="dright|,"
	str+=jquery(this).children("input").val()+"|,";
	str+=this.style.display+"|,";
	str+=i+"|."
	});
	
	jquery.each(jquery("#dcontent").children("div"),function(i){
	str+="dcontent|,"
	str+=jquery(this).children("input").val()+"|,";
	str+=this.style.display+"|,";
	str+=i+"|."
	});
	jquery.post("control.php?action=savestyle","str="+str,callbacksavestyle);
}
function callbacksavestyle()
{
if(keysub=="")
{
styleSave();
}
keysub="";
}




function callbackupdatebutton(){}
callbackupdatebutton.prototype.ready = function(obj) {
    transferDrag(obj);
    currentTransferDiv = 'updatebutton'
};
callbackupdatebutton.prototype.complete = function(obj) {
};
callbackupdatebutton.prototype.close = function(obj) {
    tmpStyle = [];
    $('qwert').style.display = 'none'
};
//
function callbackmoduleopen() {

}
callbackmoduleopen.prototype.ready = function(obj) {
    transferDrag(obj);
    currentTransferDiv = 'moduleopen';
	jquery.post("control.php?action=getlistmod",null,callbackgetlistmodule,"json");//ajax
};
callbackmoduleopen.prototype.complete = function(obj) {};
callbackmoduleopen.prototype.close = function(obj) {
    tmpStyle = [];
    $('qwert').style.display = 'none'
};
//
function callbackmoduleaddButton() {}
callbackmoduleaddButton.prototype.ready = function(obj) {
    transferDrag(obj);
   currentTransferDiv = 'moduleaddButton';
	
};
callbackmoduleaddButton.prototype.complete = function(obj) {
};
callbackmoduleaddButton.prototype.close = function(obj) {
    tmpStyle = [];
    $('qwert').style.display = 'none'
};




function callbackstylelist() {}
callbackstylelist.prototype.ready = function(obj) {
    transferDrag(obj);
    currentTransferDiv ='styleopen';
	
};
callbackstylelist.prototype.complete = function(obj) {
};
callbackstylelist.prototype.close = function(obj) {
    tmpStyle = [];
    $('qwert').style.display = 'none'
};



function callbackmp3button() {}
callbackmp3button.prototype.ready = function(obj) {
    transferDrag(obj);
    currentTransferDiv ='mp3button';
	var objname=jquery("td[id='mp3name']");
	var objurl=jquery("td[id='mp3url']");
	jquery.post("control.php?action=getmp3",null,function(data){
	if(data!=''){
			mp3array=data.split("******");
			mp3array1=mp3array[0].split("|");
			
			mp3array2=mp3array[1].split("|");
			
			jquery.each(mp3array1,function(i){
				jquery(objname[i]).children("input").val(mp3array1[i]);
				jquery(objurl[i]).children("input").val(mp3array2[i]);
			});
		}
	});//ajax
	
};
callbackmp3button.prototype.complete = function(obj) {
};
callbackmp3button.prototype.close = function(obj) {

	var objname=jquery("td[id='mp3name']");
	var objurl=jquery("td[id='mp3url']");
	var mp3html="";
	jquery.each(objname,function(i){
		
				mp3html+=jquery(this).children("input").val()+"|";
	
	});
	mp3html=mp3html.substring(0,mp3html.length-1);
	mp3html+="******";
	jquery.each(objurl,function(i){
		
					mp3html+=jquery(this).children("input").val()+"|";
	
		
	});
	mp3html=mp3html.substring(0,mp3html.length-1);
	jquery.post("control.php?action=mp3updata","mp3html="+mp3html);//ajax
    tmpStyle = [];
    $('qwert').style.display = 'none'
};


function callbackvideobutton() {}
callbackvideobutton.prototype.ready = function(obj) {
    transferDrag(obj);
    currentTransferDiv ='videobutton';
	jquery.post("control.php?action=getvideo",null,function(data){
		jquery("#videotext").val(data);
	});
	
};
callbackvideobutton.prototype.complete = function(obj) {
};
callbackvideobutton.prototype.close = function(obj) {
    tmpStyle = [];
    $('qwert').style.display = 'none'
	var videohtml=jquery("#videotext").val();
	jquery.post("control.php?action=videoupdate","videohtml="+videohtml,function(data){
		jquery("#videotext").html(data);
	});
};




$('styleopen').onmouseover = function() {
var styleopen = new transfer('styleopen', 'cancelstylelist', 'stylelist', '',callbackstylelist,'stylelistHeader');
}

var mp3button = new transfer('mp3open', 'mp3close', 'mp3list', '',callbackmp3button,'mp3Header');
var videobutton = new transfer('videoopen', 'videoclose', 'videolist', '',callbackvideobutton,'videoHeader');
//var stylelistbutton = new transfer('styleopen', 'cancelstylelist', 'stylelist', '',callbackstylelist,'moduleaupButtonHeader');
//
var updatebutton = new transfer('aaaaa', 'closeaddmodule', 'moduleupdate', '',callbackupdatebutton,'moduleaupButtonHeader');
var setFrameTransfer = new transfer('openSetFrame', 'oksubmit', 'diyFrame', '', callbackSetFrame, 'diyFrameHeader');
var selectBlock = new transfer('openSetBlock', 'oksubmit', 'selectBlock', '', callbackSelectBlock, 'selectBlockHeader');
var moduleopen = new transfer('moduleopen','', 'modulelist', '',callbackmoduleopen, 'moduleaddHeader');//div
var moduleaddButton = new transfer('moduleaddButton', 'closeaddmodule', 'moduleadd', '',callbackmoduleaddButton,'moduleaddButtonHeader');//
//var updatebutton = new transfer('updatebutton', 'closeaddmodule', 'moduleadd', '',callbackupdatebutton,'moduleaddButtonHeader');//


var setBlock = new transfer('editBlock', 'oksubmit', 'setBlock', '', callbackSetBlock, 'setBlockHeader');

var selectTitleBg = new transfer('selectTitleBg', 'oksubmit', 'selectBgDiv', '', callbackTitleBgImg, 'selectBgHeader');
var selectContentBg = new transfer('selectContentBg', 'oksubmit', 'selectBgDiv', '', callbackContentBgImg, 'selectBgHeader');


$('bodyBg').onmouseover = function() {
var bodyBg = new transfer('bodyBg', 'oksubmit', 'selectBgDiv', '', callbackBodyBgImg, 'selectBgHeader');
}
$('bannerBg').onmouseover = function() {
var bannerBg = new transfer('bannerBg', 'oksubmit', 'selectBgDiv', '', callbackBannerBgImg, 'selectBgHeader');
}
$('footerBg').onmouseover = function() {
var footerBg = new transfer('footerBg', 'oksubmit', 'selectBgDiv', '', callbackFooterBgImg, 'selectBgHeader');
}
$('setMenuBgImg').onmouseover = function() {
var setMenuBgImg = new transfer('setMenuBgImg', 'oksubmit', 'selectBgDiv', '', callbackMenuBgImg, 'selectBgHeader');
}




var setMenu = new transfer('editMenu', 'oksubmit', 'setMenu', '', callbackMenu, 'setMenuHeader');

var setTitle = new transfer('editTitle', 'oksubmit', 'setHeadTitle', '', callbackTitle, 'setHeadTitleHeader');



var rangeTitle = new drag('title', '', 'banner', '', function(obj) {

	var top = parseInt(obj.body.style.top);
	var left = parseInt(obj.body.style.left);
	if(false == isNaN(top) && false == isNaN(left)) {
		currentBlock = 'title';
		setBlockStyle('top', top, '');
		setBlockStyle('left', left, '');
	}
}, 0);
changeSelectFrame(defaultFrame);
</script>

</body>
</html>